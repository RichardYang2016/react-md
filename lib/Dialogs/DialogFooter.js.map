{"version":3,"sources":["../../src/js/Dialogs/DialogFooter.js"],"names":["FOOTER_PADDING","DialogFooter","state","stacked","_setContainer","container","_container","maxWidth","offsetWidth","Array","prototype","slice","call","querySelectorAll","some","setState","_generateActions","actions","props","isArray","map","_toElement","action","index","button","only","key","className","label","children","remaining","propStacked","length","stackedDefined","propTypes","style","object","string","node","oneOfType","element","arrayOf","bool"],"mappings":"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","file":"DialogFooter.js","sourcesContent":["import React, { PureComponent, Children, cloneElement, isValidElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cn from 'classnames';\r\n\r\nimport Button from '../Buttons/Button';\r\n\r\nconst FOOTER_PADDING = 8;\r\n\r\nexport default class DialogFooter extends PureComponent {\r\n  static propTypes = {\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    children: PropTypes.node,\r\n    actions: PropTypes.oneOfType([\r\n      PropTypes.element,\r\n      PropTypes.object,\r\n      PropTypes.arrayOf(PropTypes.oneOfType([\r\n        PropTypes.element,\r\n        PropTypes.object,\r\n      ])),\r\n    ]),\r\n    stacked: PropTypes.bool,\r\n  };\r\n\r\n  state = { stacked: false };\r\n\r\n  _toElement(action, index) {\r\n    if (isValidElement(action)) {\r\n      const button = Children.only(action);\r\n\r\n      return cloneElement(action, {\r\n        key: button.key || index,\r\n        className: cn('md-btn--dialog', button.props.className),\r\n      });\r\n    }\r\n\r\n    // Both label and children are valid for dialog actions\r\n    const { label, children, ...remaining } = action;\r\n    return (\r\n      <Button\r\n        key={index}\r\n        flat\r\n        {...remaining}\r\n        className={cn('md-btn--dialog', action.className)}\r\n      >\r\n        {label || children}\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  _setContainer = (container) => {\r\n    if (container !== null) {\r\n      this._container = container;\r\n      const maxWidth = (this._container.offsetWidth - (FOOTER_PADDING * 3)) / 2;\r\n\r\n      let stacked = false;\r\n      Array.prototype.slice.call(this._container.querySelectorAll('.md-btn'))\r\n        .some(({ offsetWidth }) => {\r\n          stacked = offsetWidth > maxWidth;\r\n          return stacked;\r\n        });\r\n\r\n      this.setState({ stacked });\r\n    }\r\n  };\r\n\r\n  _generateActions = () => {\r\n    const { actions } = this.props;\r\n    if (!actions) {\r\n      return null;\r\n    } else if (Array.isArray(actions)) {\r\n      return actions.map(this._toElement);\r\n    }\r\n\r\n    return this._toElement(actions);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      actions,\r\n      className,\r\n      children,\r\n      stacked: propStacked,\r\n      ...props\r\n    } = this.props;\r\n\r\n    if (!children && (!actions || (Array.isArray(actions) && !actions.length))) {\r\n      return null;\r\n    }\r\n\r\n    let { stacked } = this.props;\r\n    const stackedDefined = typeof propStacked !== 'undefined';\r\n    if (!stackedDefined) {\r\n      stacked = this.state.stacked;\r\n    }\r\n\r\n    return (\r\n      <footer\r\n        {...props}\r\n        className={cn('md-dialog-footer', {\r\n          'md-dialog-footer--inline': !stacked,\r\n          'md-dialog-footer--stacked': stacked,\r\n        }, className)}\r\n        ref={!stackedDefined ? this._setContainer : null}\r\n      >\r\n        {this._generateActions()}\r\n        {children}\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n"]}