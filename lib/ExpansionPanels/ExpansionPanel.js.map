{"version":3,"sources":["../../src/js/ExpansionPanels/ExpansionPanel.js"],"names":["LABEL_FONT_SIZE","LINE_HEIGHT","SINGLE_LINE_HEIGHT","ExpansionPanel","props","context","_determineIfTwoLine","twoLine","Array","prototype","slice","call","querySelectorAll","some","el","offsetHeight","setState","_handleClick","expanded","_isExpanded","state","onExpandToggle","_handleSave","e","onSave","closeOnSave","_handleCancel","onCancel","closeOnCancel","received","defaultExpanded","nextProps","process","env","NODE_ENV","columnWidths","length","console","error","prevProps","label","secondaryLabel","className","expandedSecondaryLabel","children","focused","saveType","saveLabel","savePrimary","saveSecondary","saveProps","cancelType","cancelLabel","cancelPrimary","cancelSecondary","cancelProps","headerStyle","headerClassName","contentStyle","contentClassName","tabIndex","overflown","footer","footerChildren","footerStyle","footerClassName","expandIconChildren","expandIconClassName","propAnimateContent","animateContent","propExpanded","propExpanderIcon","expanderIcon","columns","map","panelLabel","i","text","isArray","unshift","minWidth","Children","only","cloneElement","flipped","propTypes","style","object","string","node","isRequired","component","oneOfType","func","bool","element","arrayOf","number","oneOf","defaultProps","contextTypes"],"mappings":"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","file":"ExpansionPanel.js","sourcesContent":["import React, { PureComponent, Children } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { findDOMNode } from 'react-dom';\r\nimport cn from 'classnames';\r\nimport deprecated from 'react-prop-types/lib/deprecated';\r\n\r\nimport getField from '../utils/getField';\r\nimport themeColors from '../utils/themeColors';\r\nimport getCollapserStyles from '../utils/getCollapserStyles';\r\nimport controlled from '../utils/PropTypes/controlled';\r\nimport Paper from '../Papers/Paper';\r\nimport AccessibleFakeButton from '../Helpers/AccessibleFakeButton';\r\nimport Collapse from '../Helpers/Collapse';\r\nimport FontIcon from '../FontIcons/FontIcon';\r\nimport getDeprecatedIcon from '../FontIcons/getDeprecatedIcon';\r\nimport PanelContent from './PanelContent';\r\n\r\nconst LABEL_FONT_SIZE = 15;\r\nconst LINE_HEIGHT = 1.42857;\r\nconst SINGLE_LINE_HEIGHT = LABEL_FONT_SIZE * LINE_HEIGHT;\r\n\r\n/**\r\n * The `ExpansionPanel` component needs to be used with the `ExpansionList`\r\n * component. The only reason is that the `ExpansionPanel` should really\r\n * be rendered as a table, but it was a bit hard to have a single component\r\n * dynamically rendering another row when expanded. It couldn't be in the\r\n * same row since the expanded content might not have the same columns.\r\n */\r\nexport default class ExpansionPanel extends PureComponent {\r\n  static propTypes = {\r\n    /**\r\n     * An optional style to apply to the panel.\r\n     */\r\n    style: PropTypes.object,\r\n\r\n    /**\r\n     * An optional className to apply to the panel.\r\n     */\r\n    className: PropTypes.string,\r\n\r\n    /**\r\n     * An options style to apply to the panel's header content. This is the\r\n     * section that toggles the children to be visible and label columns.\r\n     */\r\n    headerStyle: PropTypes.object,\r\n\r\n    /**\r\n     * An optional className to apply to the panel's header content. This is the\r\n     * section that toggles the children to be visible and label columns.\r\n     */\r\n    headerClassName: PropTypes.string,\r\n\r\n    /**\r\n     * An optional style to apply to the element surrounding the children when expanded.\r\n     */\r\n    contentStyle: PropTypes.object,\r\n\r\n    /**\r\n     * An optional className to apply to the element surrounding the children when expanded.\r\n     */\r\n    contentClassName: PropTypes.string,\r\n\r\n    /**\r\n     * An optional style to apply to the footer when the `footer` prop is `undefined`.\r\n     *\r\n     * @see {@link #footer}\r\n     */\r\n    footerStyle: PropTypes.object,\r\n\r\n    /**\r\n     * An optional className to apply to the footer when the `footer` prop is `undefined`.\r\n     *\r\n     * @see {@link #footer}\r\n     */\r\n    footerClassName: PropTypes.string,\r\n\r\n    /**\r\n     * The main label to display in the unexpanded panel.\r\n     */\r\n    label: PropTypes.node.isRequired,\r\n\r\n    /**\r\n     * Any additional columns to display after the main label. If this is a `list`\r\n     * instead of a singular item, they will each be formatted as a column.\r\n     */\r\n    secondaryLabel: PropTypes.node,\r\n\r\n    /**\r\n     * Any additional columns to display after the main label when the panel is\r\n     * expanded. If this is omitted, the default `secondaryLabel` will be displayed\r\n     * instead.\r\n     */\r\n    expandedSecondaryLabel: PropTypes.node,\r\n\r\n    /**\r\n     * The component to render the panel as.\r\n     */\r\n    component: PropTypes.oneOfType([\r\n      PropTypes.string,\r\n      PropTypes.func,\r\n    ]).isRequired,\r\n\r\n    /**\r\n     * The content to display once the panel is toggled open.\r\n     */\r\n    children: PropTypes.node,\r\n\r\n    /**\r\n     * A boolean if the panel is currently expanded. This will force the component\r\n     * to be controlled and require's the `onExpandToggle` function to be defined.\r\n     */\r\n    expanded: controlled(PropTypes.bool, 'onExpandToggle', 'defaultExpanded'),\r\n\r\n    /**\r\n     * Boolean if an uncontrolled panel should be expanded by default.\r\n     */\r\n    defaultExpanded: PropTypes.bool.isRequired,\r\n\r\n    /**\r\n     * The icon to display for expanding the expansion panel.\r\n     */\r\n    expanderIcon: PropTypes.element,\r\n\r\n    /**\r\n     * Boolean if the `ExpansionPanel` is currently tab focused. This is injected\r\n     * and managed by the `ExpansionList` component. Do not set yourself.\r\n     */\r\n    focused: PropTypes.bool.isRequired,\r\n\r\n    /**\r\n     * A list of min-widths to apply to each column in the panel header. This is injected\r\n     * and managed by the `ExpansionList` component. Do not set yourself.\r\n     */\r\n    columnWidths: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n\r\n    /**\r\n     * Boolean if the panel has too much content so that it overflowns. This is injected\r\n     * and managed by the `ExpansionList` component. Do not set yourself.\r\n     *\r\n     * When this is active, it will truncate all columns except for the main label and the\r\n     * toggle icon.\r\n     */\r\n    overflown: PropTypes.bool,\r\n\r\n    /**\r\n     * A function to call when the expansion panel's expanded state is toggled.\r\n     * The callback for this function will include the new expanded state.\r\n     *\r\n     * `onExpandToggle(expanded)`\r\n     */\r\n    onExpandToggle: PropTypes.func,\r\n\r\n    /**\r\n     * An optional function to call when the Save button is clicked on the expanded panel.\r\n     */\r\n    onSave: PropTypes.func,\r\n\r\n    /**\r\n     * An optional function to call when the Cancel button is clicked on the expanded panel.\r\n     */\r\n    onCancel: PropTypes.func,\r\n\r\n    /**\r\n     * Boolean if the panel should close when the Save button is clicked.\r\n     */\r\n    closeOnSave: PropTypes.bool,\r\n\r\n    /**\r\n     * Boolean if the panel should close when the Cancel button is clicked.\r\n     */\r\n    closeOnCancel: PropTypes.bool,\r\n\r\n    /**\r\n     * An optional button type to apply to the Save button. This will get\r\n     * passed to the `FlatButton`.\r\n     */\r\n    saveType: PropTypes.oneOf(['button', 'submit', 'reset']),\r\n\r\n    /**\r\n     * The label for the Save button.\r\n     */\r\n    saveLabel: PropTypes.node.isRequired,\r\n\r\n    /**\r\n     * Boolean if the Save button should be styled with the primary color.\r\n     */\r\n    savePrimary: PropTypes.bool,\r\n\r\n    /**\r\n     * Boolean if the Save button should be styled with the secondary color,\r\n     */\r\n    saveSecondary: PropTypes.bool,\r\n\r\n    /**\r\n     * Any additional props to provide/override for the save button in the\r\n     * footer of the panel.\r\n     */\r\n    saveProps: PropTypes.object,\r\n\r\n    /**\r\n     * An optional button type to apply to the Cancel button. This will get\r\n     * passed to the `FlatButton`.\r\n     */\r\n    cancelType: PropTypes.oneOf(['button', 'submit', 'reset']),\r\n\r\n    /**\r\n     * The label for the Cancel button.\r\n     */\r\n    cancelLabel: PropTypes.node.isRequired,\r\n\r\n    /**\r\n     * Boolean if the Cancel button should be styled with the primary color,\r\n     */\r\n    cancelPrimary: PropTypes.bool,\r\n\r\n    /**\r\n     * Boolean if the Cancel button should be styled with the secondary color,\r\n     */\r\n    cancelSecondary: PropTypes.bool,\r\n\r\n    /**\r\n     * Any additional props to provide/override for the cancel button in the\r\n     * footer of the panel.\r\n     */\r\n    cancelProps: PropTypes.object,\r\n\r\n    /**\r\n     * The tab index for the panel's header. This allows keyboard navigation.\r\n     */\r\n    tabIndex: PropTypes.number.isRequired,\r\n\r\n    /**\r\n     * Boolean if the panel's content should animate when the content's visibility changes. This\r\n     * can also be toggled from the `ExpansionList` component if all `ExpansionPanel` in the list\r\n     * should not animate. This only affects the height transition.\r\n     *\r\n     * > The default value is really `true` since it gets passed down to the `Collapse` component.\r\n     */\r\n    animateContent: PropTypes.bool,\r\n\r\n    /**\r\n     * This prop controls the footer for the expansion panel. If this prop is `undefined`, it will\r\n     * go with the default behavior of generating the save and cancel buttons with the save and cancel\r\n     * props.\r\n     *\r\n     * If this value is `null`, there will be no footer created.\r\n     *\r\n     * Finally, if this prop is defined as any renderable item, it will be displayed in place of the\r\n     * footer.\r\n     *\r\n     * @see {@link #footerChildren}\r\n     */\r\n    footer: PropTypes.node,\r\n\r\n    /**\r\n     * Any additional children that should be displayed in the footer of the panel. These children\r\n     * will be placed after the action buttons.\r\n     */\r\n    footerChildren: PropTypes.node,\r\n    expandIconChildren: deprecated(PropTypes.node, 'Use the `expanderIcon` instead'),\r\n    expandIconClassName: deprecated(PropTypes.string, 'Use the `expanderIcon` instead'),\r\n  };\r\n\r\n  static defaultProps = {\r\n    defaultExpanded: false,\r\n    expanderIcon: <FontIcon>keyboard_arrow_down</FontIcon>,\r\n    component: 'li',\r\n    saveLabel: 'Save',\r\n    cancelLabel: 'Cancel',\r\n    savePrimary: true,\r\n    tabIndex: 0,\r\n    closeOnSave: true,\r\n    closeOnCancel: true,\r\n    focused: false,\r\n    columnWidths: [],\r\n  };\r\n\r\n  static contextTypes = {\r\n    animateContent: PropTypes.bool,\r\n  };\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.state = {\r\n      received: false,\r\n      twoLine: false,\r\n    };\r\n\r\n    if (typeof props.expanded === 'undefined') {\r\n      this.state.expanded = props.defaultExpanded;\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._determineIfTwoLine();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (process.env.NODE_ENV === 'development' && !this.state.received) {\r\n      if (nextProps.columnWidths.length === 0) {\r\n        // Hopefully a nice warning about fixing the missing props injected from ExpansionList\r\n        /* eslint-disable no-console */\r\n        console.error(\r\n          'The `ExpansionPanel` component expects the `columnWidths` prop to be injected from the ' +\r\n          '`ExpansionList` component. It could be missing because:' +\r\n          '\\n - you have a wrapper component with extra functionality' +\r\n          '\\n - the `ExpansionPanel` is not a direct child of the `ExpansionList` component' +\r\n          '\\n\\nYou can fix this by making sure to pass `this.props.focused` and `this.props.columnWidths` ' +\r\n          'within your wrapper component and making the `ExpansionPanel` a direct child of `ExpansionList`.'\r\n        );\r\n      }\r\n\r\n      this.setState({ received: true });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.label === prevProps.label && this.props.secondaryLabel === prevProps.secondaryLabel) {\r\n      return;\r\n    }\r\n\r\n    this._determineIfTwoLine();\r\n  }\r\n\r\n  _isExpanded(props, state) {\r\n    return typeof props.expanded === 'undefined' ? state.expanded : props.expanded;\r\n  }\r\n\r\n  _determineIfTwoLine = () => {\r\n    let twoLine = false;\r\n    Array.prototype.slice.call(findDOMNode(this).querySelectorAll('.md-panel-column'))\r\n      .some(el => (twoLine = el.offsetHeight > SINGLE_LINE_HEIGHT));\r\n\r\n    this.setState({ twoLine });\r\n  };\r\n\r\n  _handleClick = () => {\r\n    const expanded = !this._isExpanded(this.props, this.state);\r\n    if (this.props.onExpandToggle) {\r\n      this.props.onExpandToggle(expanded);\r\n    }\r\n\r\n\r\n    if (typeof this.props.expanded === 'undefined') {\r\n      this.setState({ expanded });\r\n    }\r\n  };\r\n\r\n  _handleSave = (e) => {\r\n    const { onSave, onExpandToggle, closeOnSave } = this.props;\r\n    if (onSave) {\r\n      onSave(e);\r\n    }\r\n\r\n    if (closeOnSave) {\r\n      if (onExpandToggle) {\r\n        onExpandToggle(false);\r\n      }\r\n\r\n      if (typeof this.props.expanded === 'undefined') {\r\n        this.setState({ expanded: false });\r\n      }\r\n    }\r\n  };\r\n\r\n  _handleCancel = (e) => {\r\n    const { onCancel, onExpandToggle, closeOnCancel } = this.props;\r\n    if (onCancel) {\r\n      onCancel(e);\r\n    }\r\n\r\n    if (closeOnCancel) {\r\n      if (onExpandToggle) {\r\n        onExpandToggle(false);\r\n      }\r\n\r\n      if (typeof this.props.expanded === 'undefined') {\r\n        this.setState({ expanded: false });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      label,\r\n      secondaryLabel,\r\n      expandedSecondaryLabel,\r\n      children,\r\n      focused,\r\n      columnWidths,\r\n      saveType,\r\n      saveLabel,\r\n      savePrimary,\r\n      saveSecondary,\r\n      saveProps,\r\n      cancelType,\r\n      cancelLabel,\r\n      cancelPrimary,\r\n      cancelSecondary,\r\n      cancelProps,\r\n      headerStyle,\r\n      headerClassName,\r\n      contentStyle,\r\n      contentClassName,\r\n      tabIndex,\r\n      overflown,\r\n      footer,\r\n      footerChildren,\r\n      footerStyle,\r\n      footerClassName,\r\n\r\n      // deprecated\r\n      expandIconChildren,\r\n      expandIconClassName,\r\n      /* eslint-disable no-unused-vars */\r\n      animateContent: propAnimateContent,\r\n      expanded: propExpanded,\r\n      expanderIcon: propExpanderIcon,\r\n      defaultExpanded,\r\n      closeOnSave,\r\n      closeOnCancel,\r\n      onSave,\r\n      onCancel,\r\n      onExpandToggle,\r\n      /* eslint-enable no-unused-vars */\r\n      ...props\r\n    } = this.props;\r\n    const { twoLine } = this.state;\r\n    const expanded = this._isExpanded(this.props, this.state);\r\n    const animateContent = getField(this.props, this.context, 'animateContent');\r\n\r\n    let columns = Children.map(expanded && expandedSecondaryLabel || secondaryLabel, (panelLabel, i) => (\r\n      <div\r\n        style={{ [`${overflown ? 'width' : 'minWidth'}`]: columnWidths[i + 1] }}\r\n        className={cn('md-panel-column', {\r\n          'md-panel-column--overflown': overflown,\r\n        }, themeColors({ text: true }))}\r\n      >\r\n        {panelLabel}\r\n      </div>\r\n    ));\r\n\r\n    if (!Array.isArray(columns)) {\r\n      columns = [columns];\r\n    }\r\n\r\n    columns.unshift((\r\n      <div\r\n        key=\"main-label\"\r\n        style={{ minWidth: columnWidths[0] }}\r\n        className={cn('md-panel-column', themeColors({ text: true }))}\r\n      >\r\n        {label}\r\n      </div>\r\n    ));\r\n\r\n    let expanderIcon = getDeprecatedIcon(expandIconClassName, expandIconChildren, this.props.expanderIcon);\r\n    expanderIcon = React.Children.only(expanderIcon);\r\n    expanderIcon = React.cloneElement(expanderIcon, {\r\n      className: getCollapserStyles({\r\n        flipped: expanded,\r\n      }, 'md-expansion-panel__collapser md-cell--right', expanderIcon.props.className),\r\n    });\r\n\r\n    return (\r\n      <Paper\r\n        {...props}\r\n        className={cn('md-expansion-panel', {\r\n          'md-expansion-panel--expanded': expanded,\r\n        }, className)}\r\n        aria-expanded={expanded}\r\n      >\r\n        <AccessibleFakeButton\r\n          onClick={this._handleClick}\r\n          style={headerStyle}\r\n          className={cn('md-panel-header', {\r\n            'md-panel-header--expanded': expanded || twoLine,\r\n            'md-panel-header--focused': focused,\r\n          }, headerClassName)}\r\n          tabIndex={tabIndex}\r\n        >\r\n          {columns}\r\n          {expanderIcon}\r\n        </AccessibleFakeButton>\r\n        <Collapse collapsed={!expanded} animate={animateContent}>\r\n          <PanelContent\r\n            style={contentStyle}\r\n            className={contentClassName}\r\n            footerStyle={footerStyle}\r\n            footerClassName={footerClassName}\r\n            onSave={this._handleSave}\r\n            onCancel={this._handleCancel}\r\n            saveType={saveType}\r\n            saveLabel={saveLabel}\r\n            savePrimary={savePrimary}\r\n            saveSecondary={saveSecondary}\r\n            saveProps={saveProps}\r\n            cancelType={cancelType}\r\n            cancelLabel={cancelLabel}\r\n            cancelPrimary={cancelPrimary}\r\n            cancelSecondary={cancelSecondary}\r\n            cancelProps={cancelProps}\r\n            footer={footer}\r\n            footerChildren={footerChildren}\r\n          >\r\n            {children}\r\n          </PanelContent>\r\n        </Collapse>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n"]}