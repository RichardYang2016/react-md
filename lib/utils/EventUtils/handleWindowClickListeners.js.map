{"version":3,"sources":["../../../src/js/utils/EventUtils/handleWindowClickListeners.js"],"names":["handleWindowClickListeners","mobileSafari","cb","enabled","window","ua","navigator","userAgent","iOS","match","webkit","document","body","style","cursor","listener"],"mappings":";;;;;kBAcwBA,0B;AAdxB;AACA,IAAIC,qBAAJ;;AAEA;;;;;;;;;;;AAWe,SAASD,0BAAT,CAAoCE,EAApC,EAAyD;AAAA,MAAjBC,OAAiB,uEAAP,KAAO;;AACtE,MAAI,OAAOF,YAAP,KAAwB,WAAxB,IAAuC,OAAOG,MAAP,KAAkB,WAA7D,EAA0E;AACxE,QAAMC,KAAKD,OAAOE,SAAP,CAAiBC,SAA5B;AACA,QAAMC,MAAMH,GAAGI,KAAH,CAAS,cAAT,CAAZ;AACA,QAAMC,SAASL,GAAGI,KAAH,CAAS,SAAT,CAAf;AACAR,mBAAeO,OAAOE,MAAP,IAAiB,CAACL,GAAGI,KAAH,CAAS,QAAT,CAAjC;;AAEA,QAAIR,YAAJ,EAAkB;AAChBU,eAASC,IAAT,CAAcC,KAAd,CAAoBC,MAApB,GAA6B,SAA7B;AACD;AACF;;AAED,MAAMC,WAAWX,QAAUD,UAAU,KAAV,GAAkB,QAA5B,oBAAjB;AACAY,WAAS,OAAT,EAAkBb,EAAlB;AACD","file":"handleWindowClickListeners.js","sourcesContent":["/** @module utils/EventUtils/handleWindowClickListeners */\r\nlet mobileSafari;\r\n\r\n/**\r\n * Since mobile safari doesn't delegate click events to the window (it only does touch events),\r\n * this utility function will hack a fix to allow the delegation by updaging the body's cursor\r\n * to be a pointer.\r\n *\r\n * Hopefully this can be removed one day....\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/Events/click#Safari_Mobile\r\n * @param {function} cb - the callback function to use for a window click event.\r\n * @param {boolean} enabled - boolean if the click event is enabled.\r\n */\r\nexport default function handleWindowClickListeners(cb, enabled = false) {\r\n  if (typeof mobileSafari === 'undefined' && typeof window !== 'undefined') {\r\n    const ua = window.navigator.userAgent;\r\n    const iOS = ua.match(/iP(ad|hone)/i);\r\n    const webkit = ua.match(/WebKit/i);\r\n    mobileSafari = iOS && webkit && !ua.match(/CriOS/i);\r\n\r\n    if (mobileSafari) {\r\n      document.body.style.cursor = 'pointer';\r\n    }\r\n  }\r\n\r\n  const listener = window[`${enabled ? 'add' : 'remove'}EventListener`];\r\n  listener('click', cb);\r\n}\r\n"]}