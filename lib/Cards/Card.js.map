{"version":3,"sources":["../../src/js/Cards/Card.js"],"names":["Card","props","_handleMouseOver","e","onMouseOver","raise","_touched","setState","zDepth","_handleMouseLeave","onMouseLeave","state","_handleTouchStart","onTouchStart","_handleExpandClick","onExpanderClick","expanded","initiallyExpanded","defaultExpanded","expanderTooltipLabel","expanderTooltipDelay","expanderTooltipPosition","expanderIcon","iconClassName","iconChildren","expanderIconClassName","expanderIconChildren","isExpanded","onExpandClick","icon","tooltipLabel","tooltipDelay","tooltipPosition","className","tableCard","children","animate","propExpanded","expanderIndex","parts","map","toArray","child","i","isExpander","expander","expandable","collapsed","propTypes","style","object","string","node","bool","func","element","oneOf","number","defaultProps","childContextTypes"],"mappings":"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","file":"Card.js","sourcesContent":["import React, { PureComponent, Children } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cn from 'classnames';\r\nimport deprecated from 'react-prop-types/lib/deprecated';\r\n\r\nimport controlled from '../utils/PropTypes/controlled';\r\nimport getField from '../utils/getField';\r\nimport contextTypes from './contextTypes';\r\nimport getDeprecatedIcon from '../FontIcons/getDeprecatedIcon';\r\nimport FontIcon from '../FontIcons/FontIcon';\r\nimport Paper from '../Papers/Paper';\r\nimport Collapse from '../Helpers/Collapse';\r\n\r\nexport default class Card extends PureComponent {\r\n  static propTypes = {\r\n    /**\r\n     * An optional style to apply.\r\n     */\r\n    style: PropTypes.object,\r\n\r\n    /**\r\n     * An optional className to apply to the card.\r\n     */\r\n    className: PropTypes.string,\r\n\r\n    /**\r\n     * Any Card parts that should be rendered.\r\n     */\r\n    children: PropTypes.node,\r\n\r\n    /**\r\n     * Boolean if the card is expanded by default when there is an expander\r\n     * component.\r\n     */\r\n    defaultExpanded: PropTypes.bool,\r\n\r\n    /**\r\n     * Boolean if the card should raise on hover when on a desktop display.\r\n     */\r\n    raise: PropTypes.bool,\r\n\r\n    /**\r\n     * Boolean if the card is currently expanded. This will require the `onExpanderClick` function\r\n     * to toggle the state. The card will become controlled if this is not `undefined`.\r\n     */\r\n    expanded: controlled(PropTypes.bool, 'onExpanderClick', 'defaultExpanded'),\r\n\r\n    /**\r\n     * An optional function to call when the expander is clicked.\r\n     */\r\n    onExpanderClick: PropTypes.func,\r\n\r\n    /**\r\n     * The icon to use for the expander button. It is recommended to use this prop over\r\n     * the `expaderIconChildren` and `expanderIconClassName` since it provides more control.\r\n     */\r\n    expanderIcon: PropTypes.element,\r\n\r\n    /**\r\n     * The tooltip position for the expander icon.\r\n     */\r\n    expanderTooltipPosition: PropTypes.oneOf(['top', 'right', 'bottom', 'left']),\r\n\r\n    /**\r\n     * The optional tooltip to display for the expander icon.\r\n     */\r\n    expanderTooltipLabel: PropTypes.node,\r\n\r\n    /**\r\n     * An optional delay before the tooltip appears for the expander icon on hover.\r\n     */\r\n    expanderTooltipDelay: PropTypes.number,\r\n\r\n    /**\r\n     * Boolean if the card contains a table. It will update the styling accordingly.\r\n     * When using the `DataTable` component, do not wrap it in a `CardText` component.\r\n     *\r\n     * ```js\r\n     * <Card tableCard={true}>\r\n     *   <CardTitle title=\"Example />\r\n     *   <DataTable>\r\n     *     ...\r\n     *   </DataTable>\r\n     * </Card>\r\n     * ```\r\n     */\r\n    tableCard: PropTypes.bool,\r\n\r\n    /**\r\n     * An optional function to call when the mouseover event is triggered.\r\n     */\r\n    onMouseOver: PropTypes.func,\r\n\r\n    /**\r\n     * An optional function to call when the mouseleave event is triggered.\r\n     */\r\n    onMouseLeave: PropTypes.func,\r\n\r\n    /**\r\n     * An optional function to call when the touchstart event is triggered.\r\n     */\r\n    onTouchStart: PropTypes.func,\r\n\r\n    /**\r\n     * Boolean if the card expansion should be animated.\r\n     */\r\n    animate: PropTypes.bool,\r\n\r\n    expanderIconClassName: deprecated(PropTypes.string, 'Use `expanderIcon` instead'),\r\n    expanderIconChildren: deprecated(PropTypes.node, 'Use `expanderIcon` instead'),\r\n    initiallyExpanded: deprecated(PropTypes.bool, 'Use `defaultExpanded` instead'),\r\n    isExpanded: deprecated(PropTypes.bool, 'Use `expanded` instead'),\r\n    iconChildren: deprecated(PropTypes.node, 'Use the `expanderIconChildren` prop instead'),\r\n    iconClassName: deprecated(PropTypes.string, 'Use the `expanderIconClassName` prop instead'),\r\n  };\r\n\r\n  static defaultProps = {\r\n    animate: true,\r\n    expanderIcon: <FontIcon>keyboard_arrow_down</FontIcon>,\r\n    expanderTooltipPosition: 'left',\r\n  };\r\n\r\n  static childContextTypes = contextTypes;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      zDepth: 1,\r\n      expanded: typeof props.initiallyExpanded !== 'undefined' ? props.initiallyExpanded : !!props.defaultExpanded,\r\n    };\r\n  }\r\n\r\n  getChildContext() {\r\n    const {\r\n      expanderTooltipLabel,\r\n      expanderTooltipDelay,\r\n      expanderTooltipPosition,\r\n      expanderIcon,\r\n\r\n      // deprecated\r\n      iconClassName,\r\n      iconChildren,\r\n      expanderIconClassName,\r\n      expanderIconChildren,\r\n    } = this.props;\r\n\r\n    const expanded = typeof this.props.isExpanded !== 'undefined'\r\n      ? this.props.isExpanded\r\n      : getField(this.props, this.state, 'expanded');\r\n\r\n    return {\r\n      expanded,\r\n      onExpandClick: this._handleExpandClick,\r\n      icon: getDeprecatedIcon(\r\n        iconChildren || expanderIconChildren,\r\n        iconClassName || expanderIconClassName,\r\n        expanderIcon\r\n      ),\r\n      tooltipLabel: expanderTooltipLabel,\r\n      tooltipDelay: expanderTooltipDelay,\r\n      tooltipPosition: expanderTooltipPosition,\r\n    };\r\n  }\r\n\r\n  _handleMouseOver = (e) => {\r\n    if (this.props.onMouseOver) {\r\n      this.props.onMouseOver(e);\r\n    }\r\n\r\n    if (this.props.raise && !this._touched) {\r\n      this.setState({ zDepth: 4 });\r\n    }\r\n  };\r\n\r\n  _handleMouseLeave = (e) => {\r\n    if (this.props.onMouseLeave) {\r\n      this.props.onMouseLeave(e);\r\n    }\r\n\r\n\r\n    this._touched = false;\r\n    if (this.props.raise && this.state.zDepth !== 1) {\r\n      this.setState({ zDepth: 1 });\r\n    }\r\n  };\r\n\r\n  _handleTouchStart = (e) => {\r\n    if (this.props.onTouchStart) {\r\n      this.props.onTouchStart(e);\r\n    }\r\n\r\n    this._touched = true;\r\n  };\r\n\r\n  _handleExpandClick = (e) => {\r\n    const { onExpanderClick } = this.props;\r\n    const expanded = !getField(this.props, this.state, 'expanded');\r\n    if (onExpanderClick) {\r\n      onExpanderClick(expanded, e);\r\n    }\r\n\r\n    if (typeof this.props.expanded === 'undefined') {\r\n      this.setState({ expanded });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { zDepth } = this.state;\r\n    const {\r\n      className,\r\n      raise,\r\n      tableCard,\r\n      children,\r\n      animate,\r\n      /* eslint-disable no-unused-vars */\r\n      expanded: propExpanded,\r\n      onExpanderClick,\r\n      defaultExpanded,\r\n      expanderIcon,\r\n      expanderIconChildren,\r\n      expanderIconClassName,\r\n      expanderTooltipLabel,\r\n      expanderTooltipDelay,\r\n      expanderTooltipPosition,\r\n\r\n      // deprecated\r\n      iconChildren,\r\n      iconClassName,\r\n      isExpanded,\r\n      initiallyExpanded,\r\n      /* eslint-enable no-unused-vars */\r\n      ...props\r\n    } = this.props;\r\n\r\n    const expanded = typeof this.props.isExpanded !== 'undefined'\r\n      ? this.props.isExpanded\r\n      : getField(this.props, this.state, 'expanded');\r\n    let expanderIndex = -1;\r\n    const parts = Children.map(Children.toArray(children), (child, i) => {\r\n      if (!child || !child.props) {\r\n        return child;\r\n      } else if (expanderIndex < 0 && (child.props.isExpander || child.props.expander)) {\r\n        expanderIndex = i;\r\n      }\r\n\r\n      if (!child.props.expandable) {\r\n        return child;\r\n      }\r\n\r\n      const collapsed = expanderIndex === -1 || expanderIndex === i || !expanded;\r\n      return <Collapse collapsed={collapsed} animate={animate}>{child}</Collapse>;\r\n    });\r\n\r\n    return (\r\n      <Paper\r\n        {...props}\r\n        zDepth={zDepth}\r\n        className={cn('md-card', {\r\n          'md-card--raise': raise,\r\n          'md-card--table': tableCard,\r\n        }, 'md-background--card', className)}\r\n        onMouseOver={this._handleMouseOver}\r\n        onMouseLeave={this._handleMouseLeave}\r\n        onTouchStart={this._handleTouchStart}\r\n      >\r\n        {parts}\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n"]}