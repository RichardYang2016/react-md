{"version":3,"sources":["../../src/js/Pickers/ClockTime.js"],"names":["CLOCK_PADDING","ClockTime","props","_handleKeyUp","e","which","keyCode","onKeyboardFocus","time","_setTime","_time","_setPosition","active","focus","radius","index","size","offsetWidth","timeRadians","Math","PI","innerCircle","outerRadius","innerRadius","setState","style","top","sin","left","cos","state","nextProps","text","propTypes","number","isRequired","bool","func"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AAEA;;AACA;;;;;;;;;;;;AAEA,IAAMA,gBAAgB,CAAtB;;AAEA;;;;;;IAKqBC,S;;;AA0BnB,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA,sHACXA,KADW;;AAAA,UAenBC,YAfmB,GAeJ,UAACC,CAAD,EAAO;AACpB,UAAI,CAACA,EAAEC,KAAF,IAAWD,EAAEE,OAAd,mBAAJ,EAAoC;AAClC,cAAKJ,KAAL,CAAWK,eAAX,CAA2B,MAAKL,KAAL,CAAWM,IAAtC;AACD;AACF,KAnBkB;;AAAA,UAqBnBC,QArBmB,GAqBR,UAACD,IAAD,EAAU;AACnB,YAAKE,KAAL,GAAaF,IAAb;AACA,UAAIA,SAAS,IAAb,EAAmB;AACjB,cAAKG,YAAL,CAAkB,MAAKT,KAAvB,EAA8BM,IAA9B;;AAEA,YAAI,MAAKN,KAAL,CAAWU,MAAf,EAAuB;AACrBJ,eAAKK,KAAL;AACD;AACF;AACF,KA9BkB;;AAAA,UAgCnBF,YAhCmB,GAgCJ,gBAAoBH,IAApB,EAA6B;AAAA,UAA1BM,MAA0B,QAA1BA,MAA0B;AAAA,UAAlBC,KAAkB,QAAlBA,KAAkB;;AAC1C;AACA,UAAMC,OAAO,CAACR,KAAKS,WAAL,IAAoB,EAArB,IAA2B,CAAxC;AACA,UAAMC,cAAeC,KAAKC,EAAL,GAAU,CAAX,GAAgBL,SAASI,KAAKC,EAAL,GAAU,CAAnB,CAApC;AACA,UAAMC,cAAcN,QAAQ,EAA5B;;AAEA,UAAMO,cAAcR,SAASE,IAA7B;AACA,UAAMO,cAAcD,cAActB,aAAd,IAA+BqB,cAAcL,OAAO,CAArB,GAAyB,CAAxD,CAApB;;AAEA,YAAKQ,QAAL,CAAc;AACZC,eAAO;AACLC,eAAKJ,cAAcC,cAAcJ,KAAKQ,GAAL,CAAST,WAAT,CAD5B;AAELU,gBAAMN,cAAcC,cAAcJ,KAAKU,GAAL,CAASX,WAAT;AAF7B;AADK,OAAd;AAMD,KA/CkB;;AAGjB,UAAKY,KAAL,GAAa;AACX;AACAd,YAAM;AAFK,KAAb;AAHiB;AAOlB;;;;8CAEyBe,S,EAAW;AACnC,UAAI,KAAK7B,KAAL,CAAWY,MAAX,KAAsBiB,UAAUjB,MAAhC,IAA0C,KAAKZ,KAAL,CAAWa,KAAX,KAAqBgB,UAAUhB,KAA7E,EAAoF;AAClF,aAAKJ,YAAL,CAAkBoB,SAAlB,EAA6B,KAAKrB,KAAlC;AACD;AACF;;;6BAoCQ;AAAA,mBACkB,KAAKR,KADvB;AAAA,UACCM,IADD,UACCA,IADD;AAAA,UACOI,MADP,UACOA,MADP;;AAEP,aACE;AAAA;AAAA;AACE,eAAK,KAAKH,QADZ;AAEE,oBAAU,CAFZ;AAGE,qBAAW,0BAAG,kDAAH,EAAuD;AAChE,sCAA0BG;AADsC,WAAvD,EAER,2BAAY,EAAEoB,MAAM,CAACpB,MAAT,EAAZ,CAFQ,CAHb;AAME,iBAAO,KAAKkB,KAAL,CAAWL,KANpB;AAOE,mBAAS,KAAKtB;AAPhB;AASE;AAAA;AAAA,YAAM,WAAU,qBAAhB;AAAuCK;AAAvC;AATF,OADF;AAaD;;;;;;AA1FkBP,S,CACZgC,S,GAAY;AACjB;;;;AAIAlB,SAAO,oBAAUmB,MAAV,CAAiBC,UALP;;AAOjB;;;AAGA3B,QAAM,oBAAU0B,MAAV,CAAiBC,UAVN;;AAYjB;;;AAGAvB,UAAQ,oBAAUwB,IAAV,CAAeD,UAfN;;AAiBjB;;;AAGArB,UAAQ,oBAAUoB,MAAV,CAAiBC,UApBR;;AAsBjB5B,mBAAiB,oBAAU8B,IAAV,CAAeF;AAtBf,C;kBADAlC,S","file":"ClockTime.js","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cn from 'classnames';\r\n\r\nimport { TAB } from '../constants/keyCodes';\r\nimport themeColors from '../utils/themeColors';\r\n\r\nconst CLOCK_PADDING = 4;\r\n\r\n/**\r\n * The `ClockTime` component is used for positioning hours or minutes\r\n * in a clock. The time will be positioned based on it's given index\r\n * and the radius of the clock.\r\n */\r\nexport default class ClockTime extends PureComponent {\r\n  static propTypes = {\r\n    /**\r\n     * The index of the current time to be displayed. This\r\n     * should be a number between 1 and 24.\r\n     */\r\n    index: PropTypes.number.isRequired,\r\n\r\n    /**\r\n     * The time number to display.\r\n     */\r\n    time: PropTypes.number.isRequired,\r\n\r\n    /**\r\n     * Boolean if this time is currently selected.\r\n     */\r\n    active: PropTypes.bool.isRequired,\r\n\r\n    /**\r\n     * The radius of the clock.\r\n     */\r\n    radius: PropTypes.number.isRequired,\r\n\r\n    onKeyboardFocus: PropTypes.func.isRequired,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      // default size in scss\r\n      size: 18,\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (this.props.radius !== nextProps.radius || this.props.index !== nextProps.index) {\r\n      this._setPosition(nextProps, this._time);\r\n    }\r\n  }\r\n\r\n  _handleKeyUp = (e) => {\r\n    if ((e.which || e.keyCode) === TAB) {\r\n      this.props.onKeyboardFocus(this.props.time);\r\n    }\r\n  }\r\n\r\n  _setTime = (time) => {\r\n    this._time = time;\r\n    if (time !== null) {\r\n      this._setPosition(this.props, time);\r\n\r\n      if (this.props.active) {\r\n        time.focus();\r\n      }\r\n    }\r\n  };\r\n\r\n  _setPosition = ({ radius, index }, time) => {\r\n    // 36 is default size for the time\r\n    const size = (time.offsetWidth || 36) / 2;\r\n    const timeRadians = (Math.PI / 2) - index * (Math.PI / 6);\r\n    const innerCircle = index > 12;\r\n\r\n    const outerRadius = radius - size;\r\n    const innerRadius = outerRadius - CLOCK_PADDING - (innerCircle ? size * 2 : 0);\r\n\r\n    this.setState({\r\n      style: {\r\n        top: outerRadius - innerRadius * Math.sin(timeRadians),\r\n        left: outerRadius + innerRadius * Math.cos(timeRadians),\r\n      },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { time, active } = this.props;\r\n    return (\r\n      <div\r\n        ref={this._setTime}\r\n        tabIndex={0}\r\n        className={cn('md-clock-time md-text-no-select md-pointer--none', {\r\n          'md-picker-text--active': active,\r\n        }, themeColors({ text: !active }))}\r\n        style={this.state.style}\r\n        onKeyUp={this._handleKeyUp}\r\n      >\r\n        <span className=\"md-clock-time-value\">{time}</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}