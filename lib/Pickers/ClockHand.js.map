{"version":3,"sources":["../../src/js/Pickers/ClockHand.js"],"names":["ClockHand","props","state","active","nextProps","minutes","timeout","clearTimeout","setState","setTimeout","time","timeAt0Deg","sectors","coords","degrees","_calcCurrentDegrees","invisibleMinute","rotateTransform","left","top","WebkitTransform","MozTransform","msTransform","transform","propTypes","number","isRequired","bool"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;;;;;AAEA;;;;IAIqBA,S;;;AAmBnB,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA,sHACXA,KADW;;AAGjB,UAAKC,KAAL,GAAa,EAAEC,QAAQ,KAAV,EAAb;AAHiB;AAIlB;;;;8CAEyBC,S,EAAW;AAAA;;AACnC,UAAI,KAAKH,KAAL,CAAWI,OAAX,KAAuBD,UAAUC,OAArC,EAA8C;AAC5C,YAAI,KAAKH,KAAL,CAAWI,OAAf,EAAwB;AAAEC,uBAAa,KAAKL,KAAL,CAAWI,OAAxB;AAAmC;;AAE7D,aAAKE,QAAL,CAAc;AACZL,kBAAQ,IADI;AAEZG,mBAASG,WAAW;AAAA,mBAAM,OAAKD,QAAL,CAAc,EAAEL,QAAQ,KAAV,EAAiBG,SAAS,IAA1B,EAAd,CAAN;AAAA,WAAX,EAAkE,GAAlE;AAFG,SAAd;AAID;AACF;;;2CAEsB;AACrB,UAAI,KAAKJ,KAAL,CAAWI,OAAf,EAAwB;AAAEC,qBAAa,KAAKL,KAAL,CAAWI,OAAxB;AAAmC;AAC9D;;;8CAEsC;AAAA,UAAjBI,IAAiB,QAAjBA,IAAiB;AAAA,UAAXL,OAAW,QAAXA,OAAW;;AACrC,UAAMM,aAAaN,UAAU,EAAV,GAAe,CAAlC;AACA,UAAMO,UAAUP,UAAU,EAAV,GAAe,EAA/B;;AAEA,aAAO,CAACK,OAAOE,OAAP,GAAiBD,UAAlB,KAAiC,MAAMC,OAAvC,CAAP;AACD;;;6BAEQ;AAAA,mBAC2B,KAAKX,KADhC;AAAA,UACCY,MADD,UACCA,MADD;AAAA,UACSH,IADT,UACSA,IADT;AAAA,UACeL,OADf,UACeA,OADf;;;AAGP,UAAMS,UAAU,KAAKC,mBAAL,CAAyB,KAAKd,KAA9B,CAAhB;AACA,UAAIe,kBAAkB,KAAtB;AACA,UAAIX,OAAJ,EAAa;AACXW,0BAAkBF,WAAW,MAAM,EAAjB,MAAyB,CAA3C;AACD;;AAED,UAAMG,yCAAuCH,OAAvC,SAAN;AACA,aACE;AACE,mBAAW,0BAAG,sCAAH,EAA2C;AACpD,mCAAyB,KAAKZ,KAAL,CAAWC,MADgB;AAEpD,yCAA+Ba,eAFqB;AAGpD,kCAAwB,CAACX,OAAD,KAAaK,OAAO,EAAP,IAAaA,SAAS,CAAnC;AAH4B,SAA3C,CADb;AAME,eAAO;AACLQ,gBAAML,MADD;AAELM,eAAKN,MAFA;AAGLO,2BAAiBH,eAHZ;AAILI,wBAAcJ,eAJT;AAKLK,uBAAaL,eALR;AAMLM,qBAAWN;AANN;AANT,QADF;AAiBD;;;;;;AA1EkBjB,S,CACZwB,S,GAAY;AACjB;;;;AAIAX,UAAQ,oBAAUY,MALD;;AAOjB;;;AAGAf,QAAM,oBAAUe,MAAV,CAAiBC,UAVN;;AAYjB;;;AAGArB,WAAS,oBAAUsB,IAAV,CAAeD;AAfP,C;kBADA1B,S","file":"ClockHand.js","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cn from 'classnames';\r\n\r\n/**\r\n * The `ClockHand` component is just used to display the hand of the clock\r\n * and a ball to surround the selected time.\r\n */\r\nexport default class ClockHand extends PureComponent {\r\n  static propTypes = {\r\n    /**\r\n     * This is the x and y coordinate to use for the center of the `ClockFace`.\r\n     * This should really be whatever the radius of the `ClockFace` is.\r\n     */\r\n    coords: PropTypes.number,\r\n\r\n    /**\r\n     * The current time of the clock.\r\n     */\r\n    time: PropTypes.number.isRequired,\r\n\r\n    /**\r\n     * Boolean if the clock is displaying minutes instead of hours.\r\n     */\r\n    minutes: PropTypes.bool.isRequired,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { active: false };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (this.props.minutes !== nextProps.minutes) {\r\n      if (this.state.timeout) { clearTimeout(this.state.timeout); }\r\n\r\n      this.setState({\r\n        active: true,\r\n        timeout: setTimeout(() => this.setState({ active: false, timeout: null }), 150),\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.state.timeout) { clearTimeout(this.state.timeout); }\r\n  }\r\n\r\n  _calcCurrentDegrees({ time, minutes }) {\r\n    const timeAt0Deg = minutes ? 15 : 3;\r\n    const sectors = minutes ? 60 : 12;\r\n\r\n    return (time % sectors - timeAt0Deg) * (360 / sectors);\r\n  }\r\n\r\n  render() {\r\n    const { coords, time, minutes } = this.props;\r\n\r\n    const degrees = this._calcCurrentDegrees(this.props);\r\n    let invisibleMinute = false;\r\n    if (minutes) {\r\n      invisibleMinute = degrees % (360 / 12) !== 0;\r\n    }\r\n\r\n    const rotateTransform = `rotate3d(0, 0, 1, ${degrees}deg)`;\r\n    return (\r\n      <div\r\n        className={cn('md-clock-hand md-background--primary', {\r\n          'md-clock-hand--active': this.state.active,\r\n          'md-clock-hand--minute-hover': invisibleMinute,\r\n          'md-clock-hand--inner': !minutes && (time > 12 || time === 0),\r\n        })}\r\n        style={{\r\n          left: coords,\r\n          top: coords,\r\n          WebkitTransform: rotateTransform,\r\n          MozTransform: rotateTransform,\r\n          msTransform: rotateTransform,\r\n          transform: rotateTransform,\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n"]}