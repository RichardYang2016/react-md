{"version":3,"sources":["../../src/js/TextFields/PasswordButton.js"],"names":["PasswordButton","state","keyboardFocus","_handleOutsideClick","e","_button","contains","target","window","removeEventListener","setState","_handleBlur","_handleKeyUp","key","which","keyCode","props","active","passwordVisible","block","floating","icon","disabled","hint","propTypes","bool","element"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AAEA;;AACA;;;;;;;;;;;;;;IAEqBA,c;;;;;;;;;;;;;;sMASnBC,K,GAAQ,EAAEC,eAAe,KAAjB,E,QAERC,mB,GAAsB,UAACC,CAAD,EAAO;AAC3B,UAAI,MAAKC,OAAL,IAAgB,CAAC,MAAKA,OAAL,CAAaC,QAAb,CAAsBF,EAAEG,MAAxB,CAArB,EAAsD;AACpDC,eAAOC,mBAAP,CAA2B,OAA3B,EAAoC,MAAKN,mBAAzC;AACA,cAAKO,QAAL,CAAc,EAAER,eAAe,KAAjB,EAAd;AACD;AACF,K,QAEDS,W,GAAc,YAAM;AAClB,UAAI,MAAKV,KAAL,CAAWC,aAAf,EAA8B;AAC5B,cAAKQ,QAAL,CAAc,EAAER,eAAe,KAAjB,EAAd;AACD;AACF,K,QAEDU,Y,GAAe,UAACR,CAAD,EAAO;AACpB,UAAMS,MAAMT,EAAEU,KAAF,IAAWV,EAAEW,OAAzB;AACA,UAAIF,qBAAJ,EAAiB;AACf,cAAKH,QAAL,CAAc,EAAER,eAAe,IAAjB,EAAd;AACD;AACF,K;;;;;6BAEQ;AAAA,UACCA,aADD,GACmB,KAAKD,KADxB,CACCC,aADD;;AAAA,mBASH,KAAKc,KATF;AAAA,UAGLC,MAHK,UAGLA,MAHK;AAAA,UAILC,eAJK,UAILA,eAJK;AAAA,UAKLC,KALK,UAKLA,KALK;AAAA,UAMLC,QANK,UAMLA,QANK;AAAA,UAOLC,IAPK,UAOLA,IAPK;AAAA,UAQFL,KARE;;AAWP,aACE;AAAA;AAAA,qBACMA,KADN;AAEE,kBAAQ,KAAKL,WAFf;AAGE,mBAAS,KAAKC,YAHhB;AAIE,gBAAK,QAJP;AAKE,qBAAW,0BAAG,kEAAH,EAAuE;AAChF,sCAA0BV,aADsD;AAEhF,0CAA8Be,UAAU,CAACC,eAFuC;AAGhF,wDAA4CE,QAHoC;AAIhF,qDAAyCD;AAJuC,WAAvE,EAKR,2BAAY,EAAEG,UAAU,CAACL,MAAb,EAAqBM,MAAMN,MAA3B,EAAZ,CALQ;AALb;AAYGI;AAZH,OADF;AAgBD;;;;;;AA1DkBrB,c,CACZwB,S,GAAY;AACjBP,UAAQ,oBAAUQ,IADD;AAEjBP,mBAAiB,oBAAUO,IAFV;AAGjBJ,QAAM,oBAAUK,OAHC;AAIjBP,SAAO,oBAAUM,IAJA;AAKjBL,YAAU,oBAAUK;AALH,C;kBADAzB,c","file":"PasswordButton.js","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cn from 'classnames';\r\n\r\nimport { TAB } from '../constants/keyCodes';\r\nimport themeColors from '../utils/themeColors';\r\n\r\nexport default class PasswordButton extends PureComponent {\r\n  static propTypes = {\r\n    active: PropTypes.bool,\r\n    passwordVisible: PropTypes.bool,\r\n    icon: PropTypes.element,\r\n    block: PropTypes.bool,\r\n    floating: PropTypes.bool,\r\n  };\r\n\r\n  state = { keyboardFocus: false };\r\n\r\n  _handleOutsideClick = (e) => {\r\n    if (this._button && !this._button.contains(e.target)) {\r\n      window.removeEventListener('click', this._handleOutsideClick);\r\n      this.setState({ keyboardFocus: false });\r\n    }\r\n  };\r\n\r\n  _handleBlur = () => {\r\n    if (this.state.keyboardFocus) {\r\n      this.setState({ keyboardFocus: false });\r\n    }\r\n  };\r\n\r\n  _handleKeyUp = (e) => {\r\n    const key = e.which || e.keyCode;\r\n    if (key === TAB) {\r\n      this.setState({ keyboardFocus: true });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { keyboardFocus } = this.state;\r\n    const {\r\n      active,\r\n      passwordVisible,\r\n      block,\r\n      floating,\r\n      icon,\r\n      ...props\r\n    } = this.props;\r\n\r\n    return (\r\n      <button\r\n        {...props}\r\n        onBlur={this._handleBlur}\r\n        onKeyUp={this._handleKeyUp}\r\n        type=\"button\"\r\n        className={cn('md-text-field-inline-indicator md-password-btn md-pointer--hover', {\r\n          'md-password-btn--focus': keyboardFocus,\r\n          'md-password-btn--invisible': active && !passwordVisible,\r\n          'md-text-field-inline-indicator--floating': floating,\r\n          'md-text-field-inline-indicator--block': block,\r\n        }, themeColors({ disabled: !active, hint: active }))}\r\n      >\r\n        {icon}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n"]}