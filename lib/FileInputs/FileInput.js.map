{"version":3,"sources":["../../src/js/FileInputs/FileInput.js"],"names":["FileInput","state","hover","pressed","_handleChange","e","props","multiple","onChange","files","target","Array","prototype","slice","call","_blur","disabled","_timeout","_attemptedBlur","setState","_handleMouseUp","onMouseUp","_handleMouseDown","onMouseDown","_handleTouchStart","onTouchStart","_handleTouchEnd","onTouchEnd","_handleKeyUp","onKeyUp","which","keyCode","window","addEventListener","_handleKeyDown","onKeyDown","key","removeEventListener","preventDefault","click","_handleMouseOver","onMouseOver","_handleMouseLeave","onMouseLeave","nextProps","nextState","setTimeout","clearTimeout","style","className","labelStyle","labelClassName","label","primary","secondary","flat","id","name","iconBefore","accept","swapTheming","allowDuplicates","iconChildren","iconClassName","propIcon","icon","propValue","value","labelChildren","cloneElement","inherit","raised","propTypes","oneOfType","string","number","object","bool","node","element","func","defaultProps"],"mappings":"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","file":"FileInput.js","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cn from 'classnames';\r\nimport isRequiredForA11y from 'react-prop-types/lib/isRequiredForA11y';\r\nimport deprecated from 'react-prop-types/lib/deprecated';\r\n\r\nimport { TAB, SPACE, ENTER } from '../constants/keyCodes';\r\nimport captureNextEvent from '../utils/EventUtils/captureNextEvent';\r\nimport getBtnStyles from '../Buttons/getBtnStyles';\r\nimport FontIcon from '../FontIcons/FontIcon';\r\nimport IconSeparator from '../Helpers/IconSeparator';\r\nimport AccessibleFakeInkedButton from '../Helpers/AccessibleFakeInkedButton';\r\n\r\n/**\r\n * The `FileInput` component is used as simple styling for the `<input type=\"file\" />`.\r\n * It will style the input as a raised button by default.\r\n */\r\nexport default class FileInput extends PureComponent {\r\n  static propTypes = {\r\n    /**\r\n     * The id for the text field. This is required for a11y and to get the `input type=\"file\"` to\r\n     * open.\r\n     */\r\n    id: isRequiredForA11y(PropTypes.oneOfType([\r\n      PropTypes.string,\r\n      PropTypes.number,\r\n    ])),\r\n\r\n    /**\r\n     * An optional name to provide to the input.\r\n     */\r\n    name: PropTypes.string,\r\n\r\n    /**\r\n     * An optional style to apply.\r\n     */\r\n    style: PropTypes.object,\r\n\r\n    /**\r\n     * An optional className to apply.\r\n     */\r\n    className: PropTypes.string,\r\n\r\n    /**\r\n     * An optional style to apply to the label.\r\n     */\r\n    labelStyle: PropTypes.object,\r\n\r\n    /**\r\n     * An optional className to apply to the label.\r\n     */\r\n    labelClassName: PropTypes.string,\r\n\r\n    /**\r\n     * Boolean if the `FileInput` should be styled with the primary color.\r\n     */\r\n    primary: PropTypes.bool,\r\n\r\n    /**\r\n     * Boolean if the `FileInput` should be styled with the secondary color.\r\n     */\r\n    secondary: PropTypes.bool,\r\n\r\n    /**\r\n     * Boolean if the `FileInput` should be styled as a flat button instead of a\r\n     * raised button.\r\n     */\r\n    flat: PropTypes.bool,\r\n\r\n    /**\r\n     * Boolean if the theming should be swapped from text to background or vice-versa.\r\n     *\r\n     * @see {@link Buttons/Button#swapTheming}\r\n     */\r\n    swapTheming: PropTypes.bool,\r\n\r\n    /**\r\n     * This should be a comma separated list of Media Types that the `FileInput` can\r\n     * accept. If this prop is left blank, any file will be accepted.\r\n     *\r\n     * The values can either be:\r\n     * - A file extension\r\n     * - audio/*\r\n     * - video/*\r\n     * - image/*\r\n     * - any valid [IANA Media Type](http://www.iana.org/assignments/media-types/media-types.xhtml)\r\n     *\r\n     * > NOTE: IE does not enforce this.\r\n     */\r\n    accept: PropTypes.string,\r\n\r\n    /**\r\n     * Boolean if the same file is allowed to be uploaded multiple times. This will basically make the\r\n     * `value` of the file input always blank.\r\n     */\r\n    allowDuplicates: PropTypes.bool,\r\n\r\n    /**\r\n     * Boolean if multiple files will be accepted.\r\n     */\r\n    multiple: PropTypes.bool,\r\n\r\n    /**\r\n     * A label to display on the `FileInput`. This will be used with the `AccessibleFakeInkedButton` component to\r\n     * create a `<label>` for the `<input type=\"file\">`.\r\n     */\r\n    label: PropTypes.node,\r\n\r\n    /**\r\n     * Boolean if the icons should appear before the label.\r\n     */\r\n    iconBefore: PropTypes.bool,\r\n\r\n    /**\r\n     * An optional icon to display with the file download. This can be a `FontIcon` or an `SVGIcon`.\r\n     */\r\n    icon: PropTypes.element,\r\n\r\n    /**\r\n     * A function to call when the value of the input changes. This will\r\n     * be triggered when the user selects a new file or cancels the new file selection.\r\n     *\r\n     * This function will be given the new [FileList](https://developer.mozilla.org/en-US/docs/Web/API/FileList)\r\n     * as an array and the change event. If this is not a multiple file input, only the\r\n     * newly selected File will be given instead of a list of one file. Since this is an\r\n     * `input` tag, the user will not be able to select the same file multiple times unless\r\n     * you manually clear the input's value.\r\n     *\r\n     * > NOTE: If the user hits cancel, null will be given for a single file input.\r\n     *\r\n     * ```js\r\n     * onChange(files, e);\r\n     * ```\r\n     */\r\n    onChange: PropTypes.func,\r\n\r\n    /**\r\n     * Boolean if the `FileInput` is currently disabled.\r\n     */\r\n    disabled: PropTypes.bool,\r\n\r\n    /**\r\n     * An optional function to call when they keyup event is triggered on the file input's label.\r\n     */\r\n    onKeyUp: PropTypes.func,\r\n\r\n    /**\r\n     * An optional function to call when they keydown event is triggered on the file input's label.\r\n     */\r\n    onKeyDown: PropTypes.func,\r\n\r\n    /**\r\n     * An optional function to call when they mouseup event is triggered on the file input's label.\r\n     */\r\n    onMouseUp: PropTypes.func,\r\n\r\n    /**\r\n     * An optional function to call when they mousedown event is triggered on the file input's label.\r\n     */\r\n    onMouseDown: PropTypes.func,\r\n\r\n    /**\r\n     * An optional function to call when they mouseover event is triggered on the file input's label.\r\n     */\r\n    onMouseOver: PropTypes.func,\r\n\r\n    /**\r\n     * An optional function to call when they mouseleave event is triggered on the file input's label.\r\n     */\r\n    onMouseLeave: PropTypes.func,\r\n\r\n    /**\r\n     * An optional function to call when they touchend event is triggered on the file input's label.\r\n     */\r\n    onTouchEnd: PropTypes.func,\r\n\r\n    /**\r\n     * An optional function to call when they touchstart event is triggered on the file input's label.\r\n     */\r\n    onTouchStart: PropTypes.func,\r\n\r\n    iconChildren: deprecated(PropTypes.node, 'Use `icon` instead'),\r\n    iconClassName: deprecated(PropTypes.string, 'Use `icon` instead'),\r\n    value: deprecated(\r\n      PropTypes.string,\r\n      'There should\\'t be a reason to set the value manually. Check out {@link #allowDuplicates} instead'\r\n    ),\r\n  };\r\n\r\n  static defaultProps = {\r\n    label: 'Select a file',\r\n    icon: <FontIcon>file_upload</FontIcon>,\r\n    allowDuplicates: false,\r\n  };\r\n\r\n  state = { hover: false, pressed: false };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (this.props.disabled && !nextProps.disabled && this.state.hover) {\r\n      this.setState({ hover: false });\r\n    }\r\n  }\r\n\r\n  componentWillUpdate(nextProps, nextState) {\r\n    // I honestly don't remember why this was implemented, but it was copied from the Button\r\n    // component\r\n    if (!this.state.pressed && nextState.pressed) {\r\n      this._timeout = setTimeout(() => {\r\n        this._timeout = null;\r\n        if (this._attemptedBlur) {\r\n          this._attemptedBlur = false;\r\n\r\n          this.setState({ pressed: false });\r\n        }\r\n      }, 450);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this._timeout) {\r\n      clearTimeout(this._timeout);\r\n    }\r\n\r\n    window.removeEventListener('click', this._blur);\r\n  }\r\n\r\n  _handleChange = (e) => {\r\n    const { multiple, onChange } = this.props;\r\n    const { files } = e.target;\r\n    if (onChange) {\r\n      if (!multiple) {\r\n        onChange(files[0] || null, e);\r\n      } else {\r\n        onChange(Array.prototype.slice.call(files), e);\r\n      }\r\n    }\r\n  };\r\n\r\n  _blur = () => {\r\n    if (this.props.disabled) {\r\n      return;\r\n    }\r\n\r\n    if (this._timeout) {\r\n      this._attemptedBlur = true;\r\n    } else {\r\n      this.setState({ pressed: false });\r\n    }\r\n  };\r\n\r\n  _handleMouseUp = (e) => {\r\n    if (this.props.onMouseUp) {\r\n      this.props.onMouseUp(e);\r\n    }\r\n\r\n    this._blur();\r\n  };\r\n\r\n  _handleMouseDown = (e) => {\r\n    if (this.props.onMouseDown) {\r\n      this.props.onMouseDown(e);\r\n    }\r\n\r\n    if (!this.props.disabled) {\r\n      this.setState({ pressed: true });\r\n    }\r\n  };\r\n\r\n  _handleTouchStart = (e) => {\r\n    if (this.props.onTouchStart) {\r\n      this.props.onTouchStart(e);\r\n    }\r\n\r\n    if (!this.props.disabled) {\r\n      this.setState({ pressed: true });\r\n    }\r\n  };\r\n\r\n  _handleTouchEnd = (e) => {\r\n    if (this.props.onTouchEnd) {\r\n      this.props.onTouchEnd(e);\r\n    }\r\n\r\n    this._blur();\r\n    captureNextEvent('mouseover');\r\n  };\r\n\r\n  _handleKeyUp = (e) => {\r\n    if (this.props.onKeyUp) {\r\n      this.props.onKeyUp(e);\r\n    }\r\n\r\n\r\n    if ((e.which || e.keyCode) === TAB) {\r\n      window.addEventListener('click', this._blur);\r\n      this.setState({ pressed: true });\r\n    }\r\n  };\r\n\r\n  _handleKeyDown = (e) => {\r\n    if (this.props.onKeyDown) {\r\n      this.props.onKeyDown(e);\r\n    }\r\n\r\n    const key = e.which || e.keyCode;\r\n\r\n    if (key === TAB) {\r\n      window.removeEventListener('click', this._blur);\r\n      this.setState({ pressed: false });\r\n    } else if (key === SPACE || key === ENTER) {\r\n      e.preventDefault();\r\n      e.target.click();\r\n    }\r\n  };\r\n\r\n  _handleMouseOver = (e) => {\r\n    if (this.props.onMouseOver) {\r\n      this.props.onMouseOver(e);\r\n    }\r\n\r\n    if (!this.props.disabled) {\r\n      this.setState({ hover: true });\r\n    }\r\n  };\r\n\r\n  _handleMouseLeave = (e) => {\r\n    if (this.props.onMouseLeave) {\r\n      this.props.onMouseLeave(e);\r\n    }\r\n\r\n    if (!this.props.disabled) {\r\n      this.setState({ hover: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { hover, pressed } = this.state;\r\n    const {\r\n      style,\r\n      className,\r\n      labelStyle,\r\n      labelClassName,\r\n      label,\r\n      primary,\r\n      secondary,\r\n      flat,\r\n      id,\r\n      name,\r\n      iconBefore,\r\n      disabled,\r\n      accept,\r\n      multiple,\r\n      swapTheming,\r\n      allowDuplicates,\r\n\r\n      // Deprecated\r\n      iconChildren,\r\n      iconClassName,\r\n      /* eslint-disable no-unused-vars */\r\n      icon: propIcon,\r\n      onChange,\r\n      onKeyUp,\r\n      onKeyDown,\r\n      onMouseUp,\r\n      onMouseDown,\r\n      onMouseOver,\r\n      onMouseLeave,\r\n      onTouchStart,\r\n      onTouchEnd,\r\n\r\n      // deprecated\r\n      value: propValue,\r\n      /* eslint-enable no-unused-vars */\r\n      ...props\r\n    } = this.props;\r\n    let { icon } = this.props;\r\n    if (iconClassName || iconChildren) {\r\n      icon = <FontIcon iconClassName={iconClassName}>{iconChildren}</FontIcon>;\r\n    }\r\n\r\n    let labelChildren = label;\r\n    if (icon) {\r\n      icon = React.cloneElement(icon, { inherit: true });\r\n      labelChildren = <IconSeparator label={label} iconBefore={iconBefore}>{icon}</IconSeparator>;\r\n    }\r\n\r\n    let value;\r\n    if (allowDuplicates) {\r\n      value = '';\r\n    }\r\n\r\n    return (\r\n      <div\r\n        {...props}\r\n        style={style}\r\n        className={cn('md-inline-block md-file-input-container', className)}\r\n      >\r\n        <AccessibleFakeInkedButton\r\n          component=\"label\"\r\n          htmlFor={id}\r\n          disabled={disabled}\r\n          onTouchStart={this._handleTouchStart}\r\n          onTouchEnd={this._handleTouchEnd}\r\n          onMouseDown={this._handleMouseDown}\r\n          onMouseUp={this._handleMouseUp}\r\n          onKeyDown={this._handleKeyDown}\r\n          onKeyUp={this._handleKeyUp}\r\n          onMouseOver={this._handleMouseOver}\r\n          onMouseLeave={this._handleMouseLeave}\r\n          style={labelStyle}\r\n          className={getBtnStyles({\r\n            flat,\r\n            raised: !flat,\r\n            disabled,\r\n            primary,\r\n            secondary,\r\n            hover,\r\n            swapTheming,\r\n            pressed,\r\n          }, labelClassName)}\r\n        >\r\n          {labelChildren}\r\n        </AccessibleFakeInkedButton>\r\n        <input\r\n          id={id}\r\n          name={name}\r\n          accept={accept}\r\n          type=\"file\"\r\n          multiple={multiple}\r\n          disabled={disabled}\r\n          aria-hidden=\"true\"\r\n          className=\"md-file-input\"\r\n          onChange={this._handleChange}\r\n          value={value}\r\n          tabIndex={-1}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}